(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var o=t.g.document;if(!e&&o&&(o.currentScript&&(e=o.currentScript.src),!e)){var i=o.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();let e=[];class o{constructor(t){this.title=t}}function i(t){let e=l();for(let o=0;e.length>o;o++)if(e[o].title===t)return e[o]}function n(t,e){let o=i(t);o.todoList,function(t,e){let o=l();for(let i=0;o.length>i;i++)o[i].title===t.title&&(void 0===o[i].todoList&&(o[i].todoList={}),o[i].todoList[`${e.title}`]=e);localStorage.setItem("projects",JSON.stringify(o))}(o,e)}function l(){return JSON.parse(localStorage.getItem("projects"))}o.prototype.changeTitle=function(t){this.title=t};class c{constructor(t,e="",o="No Due Date",i=5,n=""){this.title=t,this.description=e,this.dueDate=o,this.priority=i,this.notes=n}}const s=t.p+"e3b6ef0fc8b1ecd5d1a9.svg",a=t.p+"8d317290131028fe10cf.svg";function r(t){const e=document.querySelector(".todo-list");e.textContent="";const o=document.createElement("h1");o.className="tab-title";let i=JSON.parse(localStorage.getItem("projects"));for(let n=0;i.length>n;n++)if(i[n].title===t){o.textContent=i[n].title,e.append(o);for(const o in i[n].todoList){let l=d(i[n].todoList[o],t);e.append(l)}}}function d(t,e){const o=document.createElement("div");o.className="todo-item-container",o.dataset.name=t.title;const i=document.createElement("div");i.className="todo-item";const n=new Image;n.src=s,n.className="todo-item-checkmark";const c=document.createElement("p");c.className="todo-item-title",c.textContent=t.title;const r=document.createElement("p");r.textContent=t.dueDate;const d=new Image;return d.className="todo-item-edit",d.src=a,n.addEventListener("click",(o=>{i.remove(),function(t,e){let o=l();for(let i=0;o.length>i;i++)o[i].title===e&&(delete o[i].todoList[`${t.title}`],localStorage.setItem("projects",JSON.stringify(o)))}(t,e)})),i.addEventListener("mouseover",(t=>{d.style.display="block"})),i.addEventListener("mouseout",(t=>{d.style.display="none"})),c.addEventListener("click",(e=>{u(t,o,i,d)})),d.addEventListener("click",(e=>{u(t,o,i,d)})),i.append(n,c,r,d),o.append(i),o}function u(t,e,o,n){if(!0===e.classList.contains("active-todo-item"))document.querySelector(".edit-container").remove(),e.classList.toggle("active-todo-item"),o.classList.toggle("edit-container-active");else{o.classList.add("edit-container-active"),n.style.display="block",i(m());let c=document.createElement("div");c.className="edit-container";let s=document.createElement("label");s.className="edit-title-label",s.setAttribute("for","edit-title"),s.textContent="Title:";let a=document.createElement("input");a.setAttribute("id","edit-title"),a.value=t.title;let d=document.createElement("label");d.textContent="Due Date:",d.setAttribute("for","edit-date");let u=document.createElement("input");u.setAttribute("id","edit-date"),u.setAttribute("type","date");let p=document.createElement("label");p.className="edit-priority-label",p.setAttribute("for","edit-priority"),p.textContent="Priority:";let f=document.createElement("input");f.setAttribute("id","edit-priority"),f.setAttribute("type","number"),f.setAttribute("max",5),f.setAttribute("min",1),f.value=t.priority;let g=document.createElement("label");g.setAttribute("for","edit-description"),g.textContent="Description:";let v=document.createElement("textarea");v.setAttribute("id","edit-description"),v.value=t.description,v.placeholder="abcd your description comes here I think";let y=document.createElement("button");y.className="edit-save",y.textContent="Save",y.addEventListener("click",(e=>{let o=m();!function(t,e,o,i,n,c){let s=function(t,e,o){let i=[];return""===t?"no title":(""===e&&i.push("No Due Date"),""===o&&i.push(5),i)}(e,i,n),a=l();for(let l=0;a.length>l;l++)if(a[l].title===c){let c=a[l].todoList[t.title];a[l].todoList[e]=c,delete a[l].todoList[t.title];let r=a[l].todoList[e]=c;if("no title"===s)alert("Title cannot be empty!");else{r.title=e,r.description=o,r.dueDate=i,r.priority=parseInt(n);for(let t=0;s.length>=t;t++)"No Due Date"===s[t]&&(r.dueDate="No Due Date"),"number"==typeof s[t]&&(r.priority=5)}}localStorage.setItem("projects",JSON.stringify(a))}(t,a.value,v.value,u.value,f.value,o),r(o)})),c.append(s,a,p,f,g,v,d,u,y),e.append(c),e.classList.add("active-todo-item")}let c=document.querySelector(".todo-list").children;for(let e=0;c.length>e;e++)if(c[e].classList.contains("active-todo-item"))if(c[e].dataset.name===t.title)console.log("JEST THE LEST YOU MEST FUCK THE REST");else{let t=c[e].children;for(let o=0;t.length>o;o++)t[o].classList.contains("edit-container")&&(t[o].remove(),c[e].classList.toggle("active-todo-item"),console.log(c[e].children[0].classList.toggle("edit-container-active")))}}function m(){return document.querySelector(".active").dataset.name}null===localStorage.getItem("firstTime")&&(localStorage.setItem("firstTime","false"),function(){const t=new o("inbox"),i=new o("today"),l=new o("upcoming"),s=new c("Complete the Todo List Project","The Odin Project Todo Project!","07-25-2022",5,"");(function(...t){for(let o=0;t.length>o;o++){let i={title:t[o].title};e.push(i)}localStorage.setItem("projects",JSON.stringify(e))})(t,i,l),n(t,s)}()),r("inbox"),function(){const t=document.querySelector(".task-add");t.addEventListener("click",(e=>{let o=m();!function(t,e){const o=document.querySelector(".todo"),i=document.createElement("div");i.className="task-add-input";const l=document.createElement("input");l.className="task-add-title";const s=document.createElement("button");s.className="task-add-cancel",s.textContent="Cancel";const a=document.createElement("button");a.className="task-add-submit",a.textContent="Submit",t.style.display="none",i.append(l,a,s),o.append(i),function(t,e,o,i,l){const s=document.querySelector(".task-add");t.addEventListener("click",(t=>{!function(t,e){n(e,new c(t))}(o.value,l),r(l),s.style.display="grid",i.remove()})),e.addEventListener("click",(t=>{s.style.display="grid",i.remove()}))}(a,s,l,i,e)}(t,o)}))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QitELEVBQVVsRSxZQUFjLFNBRXhCNkQsRUFBSTFDLE1BQU1DLFFBQVUsT0FFcEIyQyxFQUFlM0QsT0FBTzRELEVBQWlCRSxFQUFXRCxHQUNsREgsRUFBWTFELE9BQU8yRCxHQU92QixTQUE4QkksRUFBUUMsRUFBUWhHLEVBQU9pRyxFQUFLL0YsR0FDdEQsTUFBTWdHLEVBQWdCOUcsU0FBU3VDLGNBQWMsYUFFN0NvRSxFQUFPbkQsaUJBQWlCLFNBQVM3RCxLRDVKckMsU0FBb0JpQixFQUFPRSxHQUd2QkksRUFBaUJKLEVBRkQsSUFBSWtCLEVBQUtwQixHQUc3QixDQ3lKUW1HLENBQVduRyxFQUFNNEQsTUFBTzFELEdBQ3hCdUIsRUFBSXZCLEdBQ0pnRyxFQUFjbkQsTUFBTUMsUUFBVSxPQUM5QmlELEVBQUlwRCxRQUFRLElBR2hCbUQsRUFBT3BELGlCQUFpQixTQUFTN0QsSUFDN0JtSCxFQUFjbkQsTUFBTUMsUUFBVSxPQUM5QmlELEVBQUlwRCxRQUFRLEdBRXBCLENBbkJJdUQsQ0FBcUJOLEVBQVdELEVBQVdELEVBQWlCRCxFQUFnQnpGLEVBR2hGLENBN0JRbUcsQ0FBZ0JiLEVBQVlqRixFQUFZLEdBRWhELENBeExJK0YsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Byb2plY3RzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy90b2RvLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9kb20uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3dlYnNpdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJsZXQgcHJvamVjdHMgPSBbXTtcclxuXHJcbmNsYXNzIFByb2plY3Qge1xyXG4gICAgY29uc3RydWN0b3IodGl0bGUpIHtcclxuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XHJcbiAgICB9XHJcbn1cclxuXHJcblByb2plY3QucHJvdG90eXBlLmNoYW5nZVRpdGxlID0gZnVuY3Rpb24obmV3VGl0bGUpIHtcclxuICAgIHRoaXMudGl0bGUgPSBuZXdUaXRsZTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlUHJvamVjdHMoLi4uYXJncykgeyAgICBcclxuICAgIGZvcihsZXQgaSA9IDA7IGFyZ3MubGVuZ3RoID4gaTsgaSsrKSB7XHJcbiAgICAgICAgbGV0IHRpdGxlID0gYXJnc1tpXS50aXRsZTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgdmFsdWUgPSB7XHJcbiAgICAgICAgICAgIFwidGl0bGVcIjogdGl0bGUsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm9qZWN0cy5wdXNoKHZhbHVlKTtcclxuICAgIH1cclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNlYXJjaEZvclByb2plY3QocHJvamVjdCkge1xyXG4gICAgbGV0IGxvY2FsUHJvamVjdHMgPSBnZXRMb2NhbFN0b3JhZ2VQcm9qZWN0cygpO1xyXG5cclxuICAgIGZvcihsZXQgaSA9IDA7IGxvY2FsUHJvamVjdHMubGVuZ3RoID4gaTsgaSsrKSB7XHJcbiAgICAgICAgaWYobG9jYWxQcm9qZWN0c1tpXS50aXRsZSA9PT0gcHJvamVjdCkge1xyXG4gICAgICAgICAgICBsZXQgcHJvamVjdCA9IGxvY2FsUHJvamVjdHNbaV07XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9qZWN0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2VhcmNoRm9yVG9kb0luUHJvamVjdChwcm9qZWN0LCB0b2RvSXRlbSkge1xyXG4gICAgbGV0IHJlc3VsdCA9IHByb2plY3QudG9kb0xpc3RbYCR7dG9kb0l0ZW19YF07XHJcblxyXG4gICAgaWYocmVzdWx0ID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiT29wc2llc1wiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRUb2RvVG9Qcm9qZWN0KHByb2plY3ROYW1lLCB0b2RvSXRlbSkge1xyXG4gICAgbGV0IHByb2plY3QgPSBzZWFyY2hGb3JQcm9qZWN0KHByb2plY3ROYW1lKTtcclxuXHJcbiAgICBpZihwcm9qZWN0LnRvZG9MaXN0ID09PSB1bmRlZmluZWQpIHsgXHJcbiAgICAgICAgdG9kb0xpc3QocHJvamVjdCwgdG9kb0l0ZW0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0b2RvTGlzdChwcm9qZWN0LCB0b2RvSXRlbSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiB0b2RvTGlzdChwcm9qZWN0LCB0b2RvSXRlbSkge1xyXG4gICAgbGV0IGxvY2FsUHJvamVjdHMgPSBnZXRMb2NhbFN0b3JhZ2VQcm9qZWN0cygpO1xyXG5cclxuICAgIGZvcihsZXQgaSA9IDA7IGxvY2FsUHJvamVjdHMubGVuZ3RoID4gaTsgaSsrKSB7XHJcbiAgICAgICAgaWYobG9jYWxQcm9qZWN0c1tpXS50aXRsZSA9PT0gcHJvamVjdC50aXRsZSkge1xyXG4gICAgICAgICAgICBpZihsb2NhbFByb2plY3RzW2ldLnRvZG9MaXN0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsUHJvamVjdHNbaV0udG9kb0xpc3QgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbG9jYWxQcm9qZWN0c1tpXVtcInRvZG9MaXN0XCJdW2Ake3RvZG9JdGVtLnRpdGxlfWBdID0gdG9kb0l0ZW07XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KGxvY2FsUHJvamVjdHMpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGVsZXRlVG9kb0l0ZW0ob2JqLCBwcm9qZWN0KSB7XHJcblxyXG4gICAgbGV0IGxvY2FsUHJvamVjdHMgPSBnZXRMb2NhbFN0b3JhZ2VQcm9qZWN0cygpO1xyXG5cclxuICAgIGZvcihsZXQgaSA9IDA7IGxvY2FsUHJvamVjdHMubGVuZ3RoID4gaTsgaSsrKSB7XHJcbiAgICAgICAgaWYobG9jYWxQcm9qZWN0c1tpXS50aXRsZSA9PT0gcHJvamVjdCkge1xyXG4gICAgICAgICAgICBkZWxldGUgbG9jYWxQcm9qZWN0c1tpXVtcInRvZG9MaXN0XCJdW2Ake29iai50aXRsZX1gXTtcclxuXHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KGxvY2FsUHJvamVjdHMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldExvY2FsU3RvcmFnZVByb2plY3RzKCkge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3RzJykpO1xyXG59XHJcblxyXG4vLyBnZXQgaXRlbXMgZnJvbSBMb2NhbCBTdG9yYWdlXHJcbi8vICAgICBsZXQgY29uc29sZVJlYWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9qZWN0cycpKTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBQcm9qZWN0LFxyXG4gICAgY3JlYXRlUHJvamVjdHMsXHJcbiAgICBhZGRUb2RvVG9Qcm9qZWN0LFxyXG4gICAgZGVsZXRlVG9kb0l0ZW0sXHJcbiAgICBzZWFyY2hGb3JQcm9qZWN0LFxyXG4gICAgc2VhcmNoRm9yVG9kb0luUHJvamVjdCxcclxuICAgIGdldExvY2FsU3RvcmFnZVByb2plY3RzXHJcbn0iLCJpbXBvcnQge2FkZFRvZG9Ub1Byb2plY3QsIGdldExvY2FsU3RvcmFnZVByb2plY3RzfSBmcm9tICcuL3Byb2plY3RzLmpzJztcclxuXHJcbmxldCB0b2RvTGlzdCA9IFtdO1xyXG5cclxuY2xhc3MgVG9kbyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24gPSBcIlwiLCBkdWVEYXRlID0gXCJObyBEdWUgRGF0ZVwiLCBwcmlvcml0eSA9IDUsIG5vdGVzID0gXCJcIikge1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XHJcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcclxuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XHJcbiAgICAgICAgdGhpcy5ub3RlcyA9IG5vdGVzO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBlZGl0VG9kbyhvYmosIHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIHByb2plY3ROYW1lKSB7XHJcbiAgICBsZXQgdmFsdWUgPSBjaGVja0lmRW1wdHkodGl0bGUsIGR1ZURhdGUsIHByaW9yaXR5KTtcclxuXHJcbiAgICBsZXQgbG9jYWxQcm9qZWN0cyA9IGdldExvY2FsU3RvcmFnZVByb2plY3RzKCk7XHJcblxyXG4gICAgZm9yKGxldCBpID0gMDsgbG9jYWxQcm9qZWN0cy5sZW5ndGggPiBpOyBpKyspIHtcclxuICAgICAgICBpZihsb2NhbFByb2plY3RzW2ldLnRpdGxlID09PSBwcm9qZWN0TmFtZSkge1xyXG4gICAgICAgICAgICBsZXQgb2xkS2V5ID0gbG9jYWxQcm9qZWN0c1tpXVtcInRvZG9MaXN0XCJdW29iai50aXRsZV07XHJcblxyXG4gICAgICAgICAgICBsb2NhbFByb2plY3RzW2ldW1widG9kb0xpc3RcIl1bdGl0bGVdID0gb2xkS2V5O1xyXG5cclxuICAgICAgICAgICAgZGVsZXRlIGxvY2FsUHJvamVjdHNbaV1bXCJ0b2RvTGlzdFwiXVtvYmoudGl0bGVdO1xyXG5cclxuICAgICAgICAgICAgbGV0IHRvZG9JdGVtID0gbG9jYWxQcm9qZWN0c1tpXVtcInRvZG9MaXN0XCJdW3RpdGxlXSA9IG9sZEtleTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKHZhbHVlID09PSBcIm5vIHRpdGxlXCIpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwiVGl0bGUgY2Fubm90IGJlIGVtcHR5IVwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRvZG9JdGVtWyd0aXRsZSddID0gdGl0bGU7XHJcbiAgICAgICAgICAgICAgICB0b2RvSXRlbVsnZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgdG9kb0l0ZW1bJ2R1ZURhdGUnXSA9IGR1ZURhdGU7XHJcbiAgICAgICAgICAgICAgICB0b2RvSXRlbVsncHJpb3JpdHknXSA9IHBhcnNlSW50KHByaW9yaXR5KTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IHZhbHVlLmxlbmd0aCA+PSBpOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZVtpXSA9PT0gXCJObyBEdWUgRGF0ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZG9JdGVtWydkdWVEYXRlJ10gPSBcIk5vIER1ZSBEYXRlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2RvSXRlbVsncHJpb3JpdHknXSA9IDU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KGxvY2FsUHJvamVjdHMpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tJZkVtcHR5KHRpdGxlLCBkdWVEYXRlLCBwcmlvcml0eSkge1xyXG4gICAgbGV0IGFycmF5ID0gW107XHJcbiAgICBpZih0aXRsZSA9PT0gJycpIHtcclxuICAgICAgICByZXR1cm4gXCJubyB0aXRsZVwiO1xyXG4gICAgfVxyXG4gICAgaWYoZHVlRGF0ZSA9PT0gJycpIHtcclxuICAgICAgICBhcnJheS5wdXNoKFwiTm8gRHVlIERhdGVcIik7XHJcbiAgICB9XHJcbiAgICBpZihwcmlvcml0eSA9PT0gJycpIHtcclxuICAgICAgICBhcnJheS5wdXNoKDUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhcnJheTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlVG9kbyh0aXRsZSwgcHJvamVjdCkge1xyXG4gICAgY29uc3QgbmV3VG9kbyA9IG5ldyBUb2RvKHRpdGxlKTtcclxuXHJcbiAgICBhZGRUb2RvVG9Qcm9qZWN0KHByb2plY3QsIG5ld1RvZG8pO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgVG9kbyxcclxuICAgIGNyZWF0ZVRvZG8sXHJcbiAgICBlZGl0VG9kb1xyXG59IiwiaW1wb3J0IHsgZGVsZXRlVG9kb0l0ZW0sIHNlYXJjaEZvclByb2plY3QsIHNlYXJjaEZvclRvZG9JblByb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0c1wiO1xyXG5pbXBvcnQgQ2lyY2xlSWNvbiBmcm9tIFwiLi4vZGlzdC9pbWFnZXMvY2lyY2xlLnN2Z1wiO1xyXG5pbXBvcnQgRWRpdEljb24gZnJvbSBcIi4uL2Rpc3QvaW1hZ2VzL3BlbmNpbC5zdmdcIjtcclxuaW1wb3J0IHsgY3JlYXRlVG9kbywgZWRpdFRvZG8gfSBmcm9tIFwiLi90b2RvLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXphdGlvbigpIHtcclxuICAgIHRhYihcImluYm94XCIpO1xyXG4gICAgYWRkVGFzaygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0YWIocHJvamVjdCkge1xyXG4gICAgY29uc3QgdG9kbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kby1saXN0XCIpO1xyXG4gICAgdG9kby50ZXh0Q29udGVudCA9ICcnO1xyXG5cclxuICAgIGNvbnN0IHRvZG9UaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XHJcbiAgICB0b2RvVGl0bGUuY2xhc3NOYW1lID0gXCJ0YWItdGl0bGVcIjtcclxuXHJcbiAgICBsZXQgcHJvamVjdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9qZWN0cycpKTtcclxuICAgIFxyXG4gICAgZm9yKGxldCBpID0gMDsgcHJvamVjdHMubGVuZ3RoID4gaTsgaSsrKSB7XHJcbiAgICAgICAgaWYocHJvamVjdHNbaV0udGl0bGUgPT09IHByb2plY3QpIHtcclxuICAgICAgICAgICAgdG9kb1RpdGxlLnRleHRDb250ZW50ID0gcHJvamVjdHNbaV0udGl0bGU7XHJcbiAgICAgICAgICAgIHRvZG8uYXBwZW5kKHRvZG9UaXRsZSk7XHJcblxyXG4gICAgICAgICAgICBmb3IoY29uc3QgcHJvcCBpbiBwcm9qZWN0c1tpXS50b2RvTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG9iaiA9IHByb2plY3RzW2ldLnRvZG9MaXN0W3Byb3BdO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBlbGVtZW50ID0gRE9NY3JlYXRlVG9kb0l0ZW0ob2JqLCBwcm9qZWN0KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0b2RvLmFwcGVuZChlbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gRE9NY3JlYXRlVG9kb0l0ZW0ob2JqLCBwcm9qZWN0KSB7XHJcbiAgICBjb25zdCB0b2RvSXRlbUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICB0b2RvSXRlbUNvbnRhaW5lci5jbGFzc05hbWUgPSBcInRvZG8taXRlbS1jb250YWluZXJcIjtcclxuICAgIHRvZG9JdGVtQ29udGFpbmVyLmRhdGFzZXQubmFtZSA9IG9iai50aXRsZTtcclxuXHJcbiAgICBjb25zdCB0b2RvSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICB0b2RvSXRlbS5jbGFzc05hbWUgPSBcInRvZG8taXRlbVwiO1xyXG5cclxuICAgIGNvbnN0IGNpcmNsZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgY2lyY2xlLnNyYyA9IENpcmNsZUljb247XHJcbiAgICBjaXJjbGUuY2xhc3NOYW1lID0gXCJ0b2RvLWl0ZW0tY2hlY2ttYXJrXCI7XHJcblxyXG4gICAgY29uc3QgdG9kb1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICB0b2RvVGl0bGUuY2xhc3NOYW1lID0gXCJ0b2RvLWl0ZW0tdGl0bGVcIjtcclxuICAgIHRvZG9UaXRsZS50ZXh0Q29udGVudCA9IG9iai50aXRsZTtcclxuXHJcbiAgICBjb25zdCB0b2RvRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gICAgdG9kb0RhdGUudGV4dENvbnRlbnQgPSBvYmouZHVlRGF0ZTtcclxuXHJcbiAgICBjb25zdCB0b2RvRWRpdCA9IG5ldyBJbWFnZSgpO1xyXG4gICAgdG9kb0VkaXQuY2xhc3NOYW1lID0gXCJ0b2RvLWl0ZW0tZWRpdFwiO1xyXG4gICAgdG9kb0VkaXQuc3JjID0gRWRpdEljb247XHJcblxyXG4gICAgY2lyY2xlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcclxuICAgICAgICB0b2RvSXRlbS5yZW1vdmUoKTtcclxuICAgICAgICBkZWxldGVUb2RvSXRlbShvYmosIHByb2plY3QpO1xyXG4gICAgfSlcclxuXHJcbiAgICB0b2RvSXRlbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIGUgPT4ge1xyXG4gICAgICAgIHRvZG9FZGl0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdG9kb0l0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIGUgPT4ge1xyXG4gICAgICAgIHRvZG9FZGl0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0b2RvVGl0bGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xyXG4gICAgICAgIERPTWVkaXRUb2RvSXRlbShvYmosIHRvZG9JdGVtQ29udGFpbmVyLCB0b2RvSXRlbSwgdG9kb0VkaXQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdG9kb0VkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xyXG4gICAgICAgIERPTWVkaXRUb2RvSXRlbShvYmosIHRvZG9JdGVtQ29udGFpbmVyLCB0b2RvSXRlbSwgdG9kb0VkaXQpO1xyXG4gICAgfSlcclxuXHJcbiAgICB0b2RvSXRlbS5hcHBlbmQoY2lyY2xlLCB0b2RvVGl0bGUsIHRvZG9EYXRlLCB0b2RvRWRpdCk7XHJcbiAgICB0b2RvSXRlbUNvbnRhaW5lci5hcHBlbmQodG9kb0l0ZW0pO1xyXG5cclxuICAgIHJldHVybiB0b2RvSXRlbUNvbnRhaW5lcjtcclxufVxyXG5cclxuZnVuY3Rpb24gRE9NZWRpdFRvZG9JdGVtKG9iaiwgY29udGFpbmVyLCB0b2RvSXRlbUNvbnRhaW5lciwgdG9kb0VkaXQpIHtcclxuICAgIGlmKGNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmUtdG9kby1pdGVtXCIpID09PSB0cnVlKSB7XHJcbiAgICAgICAgbGV0IGVkaXRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXQtY29udGFpbmVyXCIpO1xyXG4gICAgICAgIGVkaXRDb250YWluZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmUtdG9kby1pdGVtXCIpO1xyXG4gICAgICAgIHRvZG9JdGVtQ29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoXCJlZGl0LWNvbnRhaW5lci1hY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRvZG9JdGVtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJlZGl0LWNvbnRhaW5lci1hY3RpdmVcIik7XHJcbiAgICAgICAgdG9kb0VkaXQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuXHJcbiAgICAgICAgbGV0IHByb2plY3ROYW1lID0gZ2V0UHJvamVjdE5hbWUoKTtcclxuICAgICAgICBsZXQgcHJvamVjdCA9IHNlYXJjaEZvclByb2plY3QocHJvamVjdE5hbWUpO1xyXG4gICAgXHJcbiAgICAgICAgbGV0IGVkaXRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGVkaXRDb250YWluZXIuY2xhc3NOYW1lID0gXCJlZGl0LWNvbnRhaW5lclwiO1xyXG5cclxuICAgICAgICBsZXQgZWRpdFRpdGxlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICAgICAgZWRpdFRpdGxlTGFiZWwuY2xhc3NOYW1lID0gXCJlZGl0LXRpdGxlLWxhYmVsXCI7XHJcbiAgICAgICAgZWRpdFRpdGxlTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwiZWRpdC10aXRsZVwiKTtcclxuICAgICAgICBlZGl0VGl0bGVMYWJlbC50ZXh0Q29udGVudCA9IFwiVGl0bGU6XCJcclxuXHJcbiAgICAgICAgbGV0IGVkaXRUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgICAgICBlZGl0VGl0bGUuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJlZGl0LXRpdGxlXCIpO1xyXG4gICAgICAgIGVkaXRUaXRsZS52YWx1ZSA9IG9iai50aXRsZTtcclxuXHJcbiAgICAgICAgbGV0IGVkaXREYXRlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICAgICAgZWRpdERhdGVMYWJlbC50ZXh0Q29udGVudCA9IFwiRHVlIERhdGU6XCJcclxuICAgICAgICBlZGl0RGF0ZUxhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBcImVkaXQtZGF0ZVwiKTtcclxuXHJcbiAgICAgICAgbGV0IGVkaXREYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICAgIGVkaXREYXRlLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZWRpdC1kYXRlXCIpO1xyXG4gICAgICAgIGVkaXREYXRlLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJkYXRlXCIpO1xyXG5cclxuICAgICAgICBsZXQgZWRpdFByaW9yaXR5TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICAgICAgZWRpdFByaW9yaXR5TGFiZWwuY2xhc3NOYW1lID0gXCJlZGl0LXByaW9yaXR5LWxhYmVsXCI7XHJcbiAgICAgICAgZWRpdFByaW9yaXR5TGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwiZWRpdC1wcmlvcml0eVwiKTtcclxuICAgICAgICBlZGl0UHJpb3JpdHlMYWJlbC50ZXh0Q29udGVudCA9IFwiUHJpb3JpdHk6XCI7XHJcblxyXG4gICAgICAgIGxldCBlZGl0UHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgICAgZWRpdFByaW9yaXR5LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZWRpdC1wcmlvcml0eVwiKVxyXG4gICAgICAgIGVkaXRQcmlvcml0eS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwibnVtYmVyXCIpO1xyXG4gICAgICAgIGVkaXRQcmlvcml0eS5zZXRBdHRyaWJ1dGUoXCJtYXhcIiwgNSk7XHJcbiAgICAgICAgZWRpdFByaW9yaXR5LnNldEF0dHJpYnV0ZShcIm1pblwiLCAxKTtcclxuICAgICAgICBlZGl0UHJpb3JpdHkudmFsdWUgPSBvYmoucHJpb3JpdHk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGVkaXREZXNjcmlwdGlvbkxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgICAgIGVkaXREZXNjcmlwdGlvbkxhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBcImVkaXQtZGVzY3JpcHRpb25cIik7XHJcbiAgICAgICAgZWRpdERlc2NyaXB0aW9uTGFiZWwudGV4dENvbnRlbnQgPSBcIkRlc2NyaXB0aW9uOlwiO1xyXG5cclxuICAgICAgICBsZXQgZWRpdERlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xyXG4gICAgICAgIGVkaXREZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImVkaXQtZGVzY3JpcHRpb25cIik7XHJcbiAgICAgICAgZWRpdERlc2NyaXB0aW9uLnZhbHVlID0gb2JqLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgIGVkaXREZXNjcmlwdGlvbi5wbGFjZWhvbGRlciA9IFwiYWJjZCB5b3VyIGRlc2NyaXB0aW9uIGNvbWVzIGhlcmUgSSB0aGlua1wiO1xyXG5cclxuICAgICAgICBsZXQgc2F2ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICAgICAgc2F2ZUJ1dHRvbi5jbGFzc05hbWUgPSBcImVkaXQtc2F2ZVwiO1xyXG4gICAgICAgIHNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcclxuXHJcbiAgICAgICAgc2F2ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwcm9qZWN0TmFtZSA9IGdldFByb2plY3ROYW1lKCk7XHJcbiAgICAgICAgICAgIGVkaXRUb2RvKG9iaiwgZWRpdFRpdGxlLnZhbHVlLCBlZGl0RGVzY3JpcHRpb24udmFsdWUsIGVkaXREYXRlLnZhbHVlLCBlZGl0UHJpb3JpdHkudmFsdWUsIHByb2plY3ROYW1lKTtcclxuICAgICAgICAgICAgdGFiKHByb2plY3ROYW1lKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdENvbnRhaW5lci5hcHBlbmQoZWRpdFRpdGxlTGFiZWwsIGVkaXRUaXRsZSwgZWRpdFByaW9yaXR5TGFiZWwsIGVkaXRQcmlvcml0eSwgZWRpdERlc2NyaXB0aW9uTGFiZWwsIGVkaXREZXNjcmlwdGlvbiwgZWRpdERhdGVMYWJlbCwgZWRpdERhdGUsIHNhdmVCdXR0b24pO1xyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQoZWRpdENvbnRhaW5lcik7XHJcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtdG9kby1pdGVtXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRvZG9MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvLWxpc3RcIik7XHJcbiAgICBsZXQgdG9kb0xpc3RDaGlsZHJlbiA9IHRvZG9MaXN0LmNoaWxkcmVuO1xyXG5cclxuICAgIGZvcihsZXQgaSA9IDA7IHRvZG9MaXN0Q2hpbGRyZW4ubGVuZ3RoID4gaTsgaSsrKSB7XHJcbiAgICAgICAgaWYodG9kb0xpc3RDaGlsZHJlbltpXS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmUtdG9kby1pdGVtXCIpKSB7XHJcbiAgICAgICAgICAgIGlmKHRvZG9MaXN0Q2hpbGRyZW5baV0uZGF0YXNldC5uYW1lID09PSBvYmoudGl0bGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSkVTVCBUSEUgTEVTVCBZT1UgTUVTVCBGVUNLIFRIRSBSRVNUXCIpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGRyZW4gPSB0b2RvTGlzdENoaWxkcmVuW2ldLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBqID0gMDsgY2hpbGRyZW4ubGVuZ3RoID4gajsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2hpbGRyZW5bal0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiZWRpdC1jb250YWluZXJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5bal0ucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZG9MaXN0Q2hpbGRyZW5baV0uY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZS10b2RvLWl0ZW1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRvZG9MaXN0Q2hpbGRyZW5baV0uY2hpbGRyZW5bMF0uY2xhc3NMaXN0LnRvZ2dsZShcImVkaXQtY29udGFpbmVyLWFjdGl2ZVwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBldmVudExpc3RlbmVycygpIHtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFByb2plY3QoKSB7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRUYXNrKCkge1xyXG4gICAgY29uc3QgYWRkVGFza0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1hZGRcIik7XHJcblxyXG4gICAgYWRkVGFza0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgICAgbGV0IHByb2plY3ROYW1lID0gZ2V0UHJvamVjdE5hbWUoKTtcclxuXHJcbiAgICAgICAgY3JlYXRlVGFza0lucHV0KGFkZFRhc2tCdG4sIHByb2plY3ROYW1lKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVUYXNrSW5wdXQoYnRuLCBwcm9qZWN0KSB7XHJcbiAgICBjb25zdCBtYWluQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kb1wiKTtcclxuXHJcbiAgICBjb25zdCBuZXdUb2RvSXRlbURpdiAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgbmV3VG9kb0l0ZW1EaXYuY2xhc3NOYW1lID0gXCJ0YXNrLWFkZC1pbnB1dFwiO1xyXG5cclxuICAgIGNvbnN0IG5ld1RvZG9JdGVtTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgIG5ld1RvZG9JdGVtTmFtZS5jbGFzc05hbWUgPSBcInRhc2stYWRkLXRpdGxlXCI7XHJcblxyXG4gICAgY29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgIGNhbmNlbEJ0bi5jbGFzc05hbWUgPSAndGFzay1hZGQtY2FuY2VsJztcclxuICAgIGNhbmNlbEJ0bi50ZXh0Q29udGVudCA9IFwiQ2FuY2VsXCI7XHJcblxyXG4gICAgY29uc3Qgc3VibWl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgIHN1Ym1pdEJ0bi5jbGFzc05hbWUgPSAndGFzay1hZGQtc3VibWl0JztcclxuICAgIHN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiU3VibWl0XCI7XHJcblxyXG4gICAgYnRuLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICBuZXdUb2RvSXRlbURpdi5hcHBlbmQobmV3VG9kb0l0ZW1OYW1lLCBzdWJtaXRCdG4sIGNhbmNlbEJ0bik7XHJcbiAgICBtYWluQ29udGVudC5hcHBlbmQobmV3VG9kb0l0ZW1EaXYpO1xyXG5cclxuICAgIGFkZEV2ZW50c1RvVGFza0lucHV0KHN1Ym1pdEJ0biwgY2FuY2VsQnRuLCBuZXdUb2RvSXRlbU5hbWUsIG5ld1RvZG9JdGVtRGl2LCBwcm9qZWN0KVxyXG5cclxuICAgIHJldHVybiBuZXdUb2RvSXRlbU5hbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEV2ZW50c1RvVGFza0lucHV0KHN1Ym1pdCwgY2FuY2VsLCB0aXRsZSwgZGl2LCBwcm9qZWN0KSB7XHJcbiAgICBjb25zdCBhZGRUYXNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWFkZFwiKTtcclxuXHJcbiAgICBzdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4geyAgICAgICAgXHJcbiAgICAgICAgY3JlYXRlVG9kbyh0aXRsZS52YWx1ZSwgcHJvamVjdCk7XHJcbiAgICAgICAgdGFiKHByb2plY3QpO1xyXG4gICAgICAgIGFkZFRhc2tCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwiZ3JpZFwiO1xyXG4gICAgICAgIGRpdi5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNhbmNlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgICAgYWRkVGFza0J1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJncmlkXCI7XHJcbiAgICAgICAgZGl2LnJlbW92ZSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFByb2plY3ROYW1lKCkge1xyXG4gICAgY29uc3QgYWN0aXZlQ2xhc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFjdGl2ZVwiKTtcclxuICAgIGxldCBwcm9qZWN0TmFtZSA9IGFjdGl2ZUNsYXNzLmRhdGFzZXQubmFtZTtcclxuXHJcbiAgICByZXR1cm4gcHJvamVjdE5hbWU7XHJcbn0iLCJpbXBvcnQge1Byb2plY3QsIGNyZWF0ZVByb2plY3RzLCBhZGRUb2RvVG9Qcm9qZWN0fSBmcm9tICcuL3Byb2plY3RzLmpzJ1xyXG5pbXBvcnQge1RvZG99IGZyb20gJy4vdG9kby5qcydcclxuaW1wb3J0IGluaXRpYWxpemF0aW9uIGZyb20gJy4vZG9tLmpzJzsgXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xyXG4gICAgY2hlY2tJZkZpcnN0VGltZSgpO1xyXG4gICAgcGFnZUxvYWQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFnZUxvYWQoKSB7XHJcbiAgICBpbml0aWFsaXphdGlvbigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja0lmRmlyc3RUaW1lKCkge1xyXG4gICAgbGV0IHZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZpcnN0VGltZScpO1xyXG5cclxuICAgIGlmKHZhbHVlID09PSBudWxsKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZpcnN0VGltZScsICdmYWxzZScpO1xyXG5cclxuICAgICAgICBmaXJzdFRpbWVJbml0aWFsaXphdGlvbigpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBmaXJzdFRpbWVJbml0aWFsaXphdGlvbigpIHtcclxuICAgIGNvbnN0IGluYm94ID0gbmV3IFByb2plY3QoJ2luYm94Jyk7XHJcbiAgICBjb25zdCB0b2RheSA9IG5ldyBQcm9qZWN0KCd0b2RheScpO1xyXG4gICAgY29uc3QgdXBjb21pbmcgPSBuZXcgUHJvamVjdCgndXBjb21pbmcnKTtcclxuXHJcbiAgICBjb25zdCBmaXJzdFByb2plY3QgPSBuZXcgVG9kbygnQ29tcGxldGUgdGhlIFRvZG8gTGlzdCBQcm9qZWN0JywgJ1RoZSBPZGluIFByb2plY3QgVG9kbyBQcm9qZWN0IScsICcwNy0yNS0yMDIyJywgNSwgJycpO1xyXG5cclxuICAgIGNyZWF0ZVByb2plY3RzKGluYm94LCB0b2RheSwgdXBjb21pbmcpO1xyXG5cclxuICAgIGFkZFRvZG9Ub1Byb2plY3QoaW5ib3gsIGZpcnN0UHJvamVjdCk7XHJcbn0iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJwcm9qZWN0cyIsIlByb2plY3QiLCJjb25zdHJ1Y3RvciIsInRpdGxlIiwic2VhcmNoRm9yUHJvamVjdCIsInByb2plY3QiLCJsb2NhbFByb2plY3RzIiwiZ2V0TG9jYWxTdG9yYWdlUHJvamVjdHMiLCJpIiwiYWRkVG9kb1RvUHJvamVjdCIsInByb2plY3ROYW1lIiwidG9kb0l0ZW0iLCJ0b2RvTGlzdCIsInVuZGVmaW5lZCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwicGFyc2UiLCJnZXRJdGVtIiwicHJvdG90eXBlIiwiY2hhbmdlVGl0bGUiLCJuZXdUaXRsZSIsIlRvZG8iLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsIm5vdGVzIiwidGFiIiwidG9kbyIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsInRvZG9UaXRsZSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJhcHBlbmQiLCJwcm9wIiwiZWxlbWVudCIsIkRPTWNyZWF0ZVRvZG9JdGVtIiwib2JqIiwidG9kb0l0ZW1Db250YWluZXIiLCJkYXRhc2V0IiwibmFtZSIsImNpcmNsZSIsIkltYWdlIiwidG9kb0RhdGUiLCJ0b2RvRWRpdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJkZWxldGVUb2RvSXRlbSIsInN0eWxlIiwiZGlzcGxheSIsIkRPTWVkaXRUb2RvSXRlbSIsImNvbnRhaW5lciIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwidG9nZ2xlIiwiYWRkIiwiZ2V0UHJvamVjdE5hbWUiLCJlZGl0Q29udGFpbmVyIiwiZWRpdFRpdGxlTGFiZWwiLCJzZXRBdHRyaWJ1dGUiLCJlZGl0VGl0bGUiLCJ2YWx1ZSIsImVkaXREYXRlTGFiZWwiLCJlZGl0RGF0ZSIsImVkaXRQcmlvcml0eUxhYmVsIiwiZWRpdFByaW9yaXR5IiwiZWRpdERlc2NyaXB0aW9uTGFiZWwiLCJlZGl0RGVzY3JpcHRpb24iLCJwbGFjZWhvbGRlciIsInNhdmVCdXR0b24iLCJhcnJheSIsInB1c2giLCJjaGVja0lmRW1wdHkiLCJvbGRLZXkiLCJhbGVydCIsInBhcnNlSW50IiwiZWRpdFRvZG8iLCJ0b2RvTGlzdENoaWxkcmVuIiwiY2hpbGRyZW4iLCJjb25zb2xlIiwibG9nIiwiaiIsImluYm94IiwidG9kYXkiLCJ1cGNvbWluZyIsImZpcnN0UHJvamVjdCIsImFyZ3MiLCJjcmVhdGVQcm9qZWN0cyIsImZpcnN0VGltZUluaXRpYWxpemF0aW9uIiwiYWRkVGFza0J0biIsImJ0biIsIm1haW5Db250ZW50IiwibmV3VG9kb0l0ZW1EaXYiLCJuZXdUb2RvSXRlbU5hbWUiLCJjYW5jZWxCdG4iLCJzdWJtaXRCdG4iLCJzdWJtaXQiLCJjYW5jZWwiLCJkaXYiLCJhZGRUYXNrQnV0dG9uIiwiY3JlYXRlVG9kbyIsImFkZEV2ZW50c1RvVGFza0lucHV0IiwiY3JlYXRlVGFza0lucHV0IiwiYWRkVGFzayJdLCJzb3VyY2VSb290IjoiIn0=