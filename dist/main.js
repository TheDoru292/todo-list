(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();let e=[];class n{constructor(t){this.title=t}}function o(t){let e=l();for(let n=0;e.length>n;n++)if(e[n].title===t)return e[n]}function i(t,e){let n=o(t);n.todoList,function(t,e){let n=l();for(let o=0;n.length>o;o++)n[o].title===t.title&&(void 0===n[o].todoList&&(n[o].todoList={}),n[o].todoList[`${e.title}`]=e);localStorage.setItem("projects",JSON.stringify(n))}(n,e)}function l(){return JSON.parse(localStorage.getItem("projects"))}n.prototype.changeTitle=function(t){this.title=t};class c{constructor(t,e="",n="No Due Date",o=5,i=""){this.title=t,this.description=e,this.dueDate=n,this.priority=o,this.notes=i}}const s=t.p+"e3b6ef0fc8b1ecd5d1a9.svg",a=t.p+"8d317290131028fe10cf.svg",r=t.p+"365f3e7f182c9f913994.svg",d=t.p+"97d4c0a10ac97607dc65.svg";function u(t){const e=document.querySelector(".todo-list");e.textContent="";const n=document.createElement("h1");n.className="tab-title";let o=JSON.parse(localStorage.getItem("projects"));for(let i=0;o.length>i;i++)if(o[i].title===t){n.textContent=o[i].title,e.append(n);for(const n in o[i].todoList){let l=f(o[i].todoList[n],t);e.append(l)}}}function m(t){const e=document.querySelector(".project-list"),n=document.createElement("li");n.className="project",n.dataset.name=t.title;const o=new Image;o.src=r;const i=document.createElement("p");i.textContent=t.title;const c=new Image;c.style.display="none",c.src=d,i.addEventListener("click",(e=>{p(n),u(t.title)})),n.addEventListener("mouseover",(t=>{c.style.display="block"})),n.addEventListener("mouseout",(t=>{c.style.display="none"})),c.addEventListener("click",(e=>{n.remove(),function(t){let e=l();for(let n=0;e.length>n;n++)if(e[n].title===t){delete e[n];let t=e.filter((t=>t));localStorage.setItem("projects",JSON.stringify(t))}}(t.title);let o=document.querySelector('[data-name="inbox"]');u("inbox"),p(o)})),n.append(o,i,c),e.append(n)}function p(t){let e=document.querySelector(".sidebar").children;for(let t=0;e.length>t;t++)if(e[t].classList.contains("main-list")||e[t].classList.contains("project-list")){let n=e[t].children[0].children;for(let t=0;n.length>t;t++)n[t].classList.contains("active")&&n[t].classList.toggle("active")}t.classList.toggle("active")}function f(t,e){const n=document.createElement("div");n.className="todo-item-container",n.dataset.name=t.title;const o=document.createElement("div");o.className="todo-item";const i=new Image;i.src=s,i.className="todo-item-checkmark";const c=document.createElement("p");c.className="todo-item-title",c.textContent=t.title;const r=document.createElement("p");r.textContent=t.dueDate;const d=new Image;return d.className="todo-item-edit",d.src=a,i.addEventListener("click",(n=>{o.remove(),function(t,e){let n=l();for(let o=0;n.length>o;o++)n[o].title===e&&(delete n[o].todoList[`${t.title}`],localStorage.setItem("projects",JSON.stringify(n)))}(t,e)})),o.addEventListener("mouseover",(t=>{d.style.display="block"})),o.addEventListener("mouseout",(t=>{d.style.display="none"})),c.addEventListener("click",(e=>{g(t,n,o,d)})),d.addEventListener("click",(e=>{g(t,n,o,d)})),o.append(i,c,r,d),n.append(o),n}function g(t,e,n,i){if(!0===e.classList.contains("active-todo-item"))document.querySelector(".edit-container").remove(),e.classList.toggle("active-todo-item"),n.classList.toggle("edit-container-active");else{n.classList.add("edit-container-active"),i.style.display="block",o(v());let c=document.createElement("div");c.className="edit-container";let s=document.createElement("label");s.className="edit-title-label",s.setAttribute("for","edit-title"),s.textContent="Title:";let a=document.createElement("input");a.setAttribute("id","edit-title"),a.value=t.title;let r=document.createElement("label");r.textContent="Due Date:",r.setAttribute("for","edit-date");let d=document.createElement("input");d.setAttribute("id","edit-date"),d.setAttribute("type","date");let m=document.createElement("label");m.className="edit-priority-label",m.setAttribute("for","edit-priority"),m.textContent="Priority:";let p=document.createElement("input");p.setAttribute("id","edit-priority"),p.setAttribute("type","number"),p.setAttribute("max",5),p.setAttribute("min",1),p.value=t.priority;let f=document.createElement("label");f.setAttribute("for","edit-description"),f.textContent="Description:";let g=document.createElement("textarea");g.setAttribute("id","edit-description"),g.value=t.description,g.placeholder="abcd your description comes here I think";let y=document.createElement("button");y.className="edit-save",y.textContent="Save",y.addEventListener("click",(e=>{let n=v();!function(t,e,n,o,i,c){let s=function(t,e,n){let o=[];return""===t?"no title":(""===e&&o.push("No Due Date"),""===n&&o.push(5),o)}(e,o,i),a=l();for(let l=0;a.length>l;l++)if(a[l].title===c){let c=a[l].todoList[t.title];a[l].todoList[e]=c,delete a[l].todoList[t.title];let r=a[l].todoList[e]=c;if("no title"===s)alert("Title cannot be empty!");else{r.title=e,r.description=n,r.dueDate=o,r.priority=parseInt(i);for(let t=0;s.length>=t;t++)"No Due Date"===s[t]&&(r.dueDate="No Due Date"),"number"==typeof s[t]&&(r.priority=5)}}localStorage.setItem("projects",JSON.stringify(a))}(t,a.value,g.value,d.value,p.value,n),u(n)})),c.append(s,a,m,p,f,g,r,d,y),e.append(c),e.classList.add("active-todo-item")}let c=document.querySelector(".todo-list").children;for(let e=0;c.length>e;e++)if(c[e].classList.contains("active-todo-item"))if(c[e].dataset.name===t.title)console.log("JEST THE LEST YOU MEST FUCK THE REST");else{let t=c[e].children;for(let n=0;t.length>n;n++)t[n].classList.contains("edit-container")&&(t[n].remove(),c[e].classList.toggle("active-todo-item"),c[e].children[0].classList.toggle("edit-container-active"))}}function v(){return document.querySelector(".active").dataset.name}null===localStorage.getItem("firstTime")&&(localStorage.setItem("firstTime","false"),function(){const t=new n("inbox"),o=new n("today"),l=new n("upcoming"),s=new c("Complete the Todo List Project","The Odin Project Todo Project!","07-25-2022",5,"");(function(...t){for(let n=0;t.length>n;n++){let o={title:t[n].title};e.push(o)}localStorage.setItem("projects",JSON.stringify(e))})(t,o,l),i(t,s)}()),u("inbox"),function(){let t=l();for(let e=0;t.length>e;e++)"inbox"===t[e].title||"today"===t[e].title||"upcoming"===t[e].title?console.log("wut"):m(t[e])}(),function(){const t=document.querySelector(".task-add");t.addEventListener("click",(e=>{let n=v();!function(t,e){const n=document.querySelector(".todo"),o=document.createElement("div");o.className="task-add-input";const l=document.createElement("input");l.className="task-add-title";const s=document.createElement("button");s.className="task-add-cancel",s.textContent="Cancel";const a=document.createElement("button");a.className="task-add-submit",a.textContent="Submit",t.style.display="none",o.append(l,a,s),n.append(o),function(t,e,n,o,l){const s=document.querySelector(".task-add");t.addEventListener("click",(t=>{!function(t,e){i(e,new c(t))}(n.value,l),u(l),s.style.display="grid",o.remove()})),e.addEventListener("click",(t=>{s.style.display="grid",o.remove()}))}(a,s,l,o,e)}(t,n)}))}(),function(){const t=document.querySelector(".add-project");t.addEventListener("click",(e=>{!function(t){const e=document.querySelector(".project-list"),n=document.createElement("div");n.className="project-add-div";const o=document.createElement("input");o.className="project-add-title";const i=document.createElement("button");i.className="project-add-cancel",i.textContent="Cancel";const c=document.createElement("button");var s,a,r,d;c.className="project-add-submit",c.textContent="Submit",t.style.display="none",s=o,a=n,r=i,d=t,c.addEventListener("click",(t=>{!function(t){let e=function(t){let e=l();if(""===t)return"blank";for(let n=0;e.length>n;n++)if(console.log[e[n].title],e[n].title===t)return!0}(t);if(!0===e)alert("Project names must be different");else if("blank"===e)alert("Project names must not be blank");else{let e=l(),n={title:t};e.push(n),localStorage.setItem("projects",JSON.stringify(e))}}(s.value)})),r.addEventListener("click",(t=>{d.style.display="grid",a.remove()})),n.append(o,c,i),e.append(n)}(t)}))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBaENnQnNILENBQWlCdEgsR0FFN0IsSUFBYSxJQUFWc0UsRUFDQ2EsTUFBTSx3Q0FDSCxHQUFhLFVBQVZiLEVBQ05hLE1BQU0sdUNBQ0gsQ0FDSCxJQUFJdkYsRUFBZ0JDLElBRWhCRixFQUFVLENBQ1YsTUFBU0ssR0FHYkosRUFBY29GLEtBQUtyRixHQUNuQlMsYUFBYUMsUUFBUSxXQUFZQyxLQUFLQyxVQUFVWCxHQUNwRCxDQUNKLENFc1FRMkgsQ0FBYzlILEVBQU02RSxNQUFNLElBRzlCbUMsRUFBT2hFLGlCQUFpQixTQUFTakUsSUFDN0I2SSxFQUFPOUUsTUFBTUMsUUFBVSxPQUN2QmtFLEVBQUkvRCxRQUFRLElBWGhCd0UsRUFBYzFGLE9BQU8yRixFQUFpQmIsRUFBV0QsR0FDakRZLEVBQVl6RixPQUFPMEYsRUFDdkIsQ0EzQlFLLENBQW1CUixFQUFjLEdBRXpDLENBVElTLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvdG9kby5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvZG9tLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy93ZWJzaXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwibGV0IHByb2plY3RzID0gW107XHJcblxyXG5jbGFzcyBQcm9qZWN0IHtcclxuICAgIGNvbnN0cnVjdG9yKHRpdGxlKSB7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xyXG4gICAgfVxyXG59XHJcblxyXG5Qcm9qZWN0LnByb3RvdHlwZS5jaGFuZ2VUaXRsZSA9IGZ1bmN0aW9uKG5ld1RpdGxlKSB7XHJcbiAgICB0aGlzLnRpdGxlID0gbmV3VGl0bGU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVByb2plY3QocHJvamVjdE5hbWUpIHtcclxuICAgIGxldCB2YWx1ZSA9IGNoZWNrSWZBdmFpbGFibGUocHJvamVjdE5hbWUpO1xyXG5cclxuICAgIGlmKHZhbHVlID09PSB0cnVlKSB7XHJcbiAgICAgICAgYWxlcnQoXCJQcm9qZWN0IG5hbWVzIG11c3QgYmUgZGlmZmVyZW50XCIpO1xyXG4gICAgfSBlbHNlIGlmKHZhbHVlID09PSBcImJsYW5rXCIpIHtcclxuICAgICAgICBhbGVydChcIlByb2plY3QgbmFtZXMgbXVzdCBub3QgYmUgYmxhbmtcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxldCBsb2NhbFByb2plY3RzID0gZ2V0TG9jYWxTdG9yYWdlUHJvamVjdHMoKTtcclxuXHJcbiAgICAgICAgbGV0IHByb2plY3QgPSB7XHJcbiAgICAgICAgICAgIFwidGl0bGVcIjogcHJvamVjdE5hbWUsXHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgbG9jYWxQcm9qZWN0cy5wdXNoKHByb2plY3QpO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KGxvY2FsUHJvamVjdHMpKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tJZkF2YWlsYWJsZShwcm9qZWN0TmFtZSkge1xyXG4gICAgbGV0IGxvY2FsU3RvcmFnZSA9IGdldExvY2FsU3RvcmFnZVByb2plY3RzKCk7XHJcblxyXG4gICAgaWYocHJvamVjdE5hbWUgPT09ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiYmxhbmtcIjtcclxuICAgIH1cclxuXHJcbiAgICBmb3IobGV0IGkgPSAwOyBsb2NhbFN0b3JhZ2UubGVuZ3RoID4gaTsgaSsrKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2dbbG9jYWxTdG9yYWdlW2ldLnRpdGxlXTtcclxuXHJcbiAgICAgICAgaWYobG9jYWxTdG9yYWdlW2ldLnRpdGxlID09PSBwcm9qZWN0TmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVByb2plY3RzKC4uLmFyZ3MpIHsgICAgXHJcbiAgICBmb3IobGV0IGkgPSAwOyBhcmdzLmxlbmd0aCA+IGk7IGkrKykge1xyXG4gICAgICAgIGxldCB0aXRsZSA9IGFyZ3NbaV0udGl0bGU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IHZhbHVlID0ge1xyXG4gICAgICAgICAgICBcInRpdGxlXCI6IHRpdGxlLFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvamVjdHMucHVzaCh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0cykpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZWFyY2hGb3JQcm9qZWN0KHByb2plY3QpIHtcclxuICAgIGxldCBsb2NhbFByb2plY3RzID0gZ2V0TG9jYWxTdG9yYWdlUHJvamVjdHMoKTtcclxuXHJcbiAgICBmb3IobGV0IGkgPSAwOyBsb2NhbFByb2plY3RzLmxlbmd0aCA+IGk7IGkrKykge1xyXG4gICAgICAgIGlmKGxvY2FsUHJvamVjdHNbaV0udGl0bGUgPT09IHByb2plY3QpIHtcclxuICAgICAgICAgICAgbGV0IHByb2plY3QgPSBsb2NhbFByb2plY3RzW2ldO1xyXG4gICAgICAgICAgICByZXR1cm4gcHJvamVjdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNlYXJjaEZvclRvZG9JblByb2plY3QocHJvamVjdCwgdG9kb0l0ZW0pIHtcclxuICAgIGxldCByZXN1bHQgPSBwcm9qZWN0LnRvZG9MaXN0W2Ake3RvZG9JdGVtfWBdO1xyXG5cclxuICAgIGlmKHJlc3VsdCA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIHJldHVybiBcIk9vcHNpZXNcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkVG9kb1RvUHJvamVjdChwcm9qZWN0TmFtZSwgdG9kb0l0ZW0pIHtcclxuICAgIGxldCBwcm9qZWN0ID0gc2VhcmNoRm9yUHJvamVjdChwcm9qZWN0TmFtZSk7XHJcblxyXG4gICAgaWYocHJvamVjdC50b2RvTGlzdCA9PT0gdW5kZWZpbmVkKSB7IFxyXG4gICAgICAgIHRvZG9MaXN0KHByb2plY3QsIHRvZG9JdGVtKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdG9kb0xpc3QocHJvamVjdCwgdG9kb0l0ZW0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gdG9kb0xpc3QocHJvamVjdCwgdG9kb0l0ZW0pIHtcclxuICAgIGxldCBsb2NhbFByb2plY3RzID0gZ2V0TG9jYWxTdG9yYWdlUHJvamVjdHMoKTtcclxuXHJcbiAgICBmb3IobGV0IGkgPSAwOyBsb2NhbFByb2plY3RzLmxlbmd0aCA+IGk7IGkrKykge1xyXG4gICAgICAgIGlmKGxvY2FsUHJvamVjdHNbaV0udGl0bGUgPT09IHByb2plY3QudGl0bGUpIHtcclxuICAgICAgICAgICAgaWYobG9jYWxQcm9qZWN0c1tpXS50b2RvTGlzdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFByb2plY3RzW2ldLnRvZG9MaXN0ID0ge307XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxvY2FsUHJvamVjdHNbaV1bXCJ0b2RvTGlzdFwiXVtgJHt0b2RvSXRlbS50aXRsZX1gXSA9IHRvZG9JdGVtO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShsb2NhbFByb2plY3RzKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlbGV0ZVRvZG9JdGVtKG9iaiwgcHJvamVjdCkge1xyXG5cclxuICAgIGxldCBsb2NhbFByb2plY3RzID0gZ2V0TG9jYWxTdG9yYWdlUHJvamVjdHMoKTtcclxuXHJcbiAgICBmb3IobGV0IGkgPSAwOyBsb2NhbFByb2plY3RzLmxlbmd0aCA+IGk7IGkrKykge1xyXG4gICAgICAgIGlmKGxvY2FsUHJvamVjdHNbaV0udGl0bGUgPT09IHByb2plY3QpIHtcclxuICAgICAgICAgICAgZGVsZXRlIGxvY2FsUHJvamVjdHNbaV1bXCJ0b2RvTGlzdFwiXVtgJHtvYmoudGl0bGV9YF07XHJcblxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShsb2NhbFByb2plY3RzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkZWxldGVQcm9qZWN0KHByb2plY3QpIHtcclxuICAgIGxldCBsb2NhbFByb2plY3RzID0gZ2V0TG9jYWxTdG9yYWdlUHJvamVjdHMoKTtcclxuXHJcbiAgICBmb3IobGV0IGkgPSAwOyBsb2NhbFByb2plY3RzLmxlbmd0aCA+IGk7IGkrKykge1xyXG4gICAgICAgIGlmKGxvY2FsUHJvamVjdHNbaV0udGl0bGUgPT09IHByb2plY3QpIHtcclxuICAgICAgICAgICAgZGVsZXRlIGxvY2FsUHJvamVjdHNbaV07XHJcblxyXG4gICAgICAgICAgICBsZXQgZmlsdGVyZWRQcm9qZWN0cyA9IGxvY2FsUHJvamVjdHMuZmlsdGVyKGl0ZW0gPT4gaXRlbSk7XHJcblxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShmaWx0ZXJlZFByb2plY3RzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRMb2NhbFN0b3JhZ2VQcm9qZWN0cygpIHtcclxuICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9qZWN0cycpKTtcclxufVxyXG5cclxuLy8gZ2V0IGl0ZW1zIGZyb20gTG9jYWwgU3RvcmFnZVxyXG4vLyAgICAgbGV0IGNvbnNvbGVSZWFkID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvamVjdHMnKSk7XHJcblxyXG5leHBvcnQge1xyXG4gICAgUHJvamVjdCxcclxuICAgIGNyZWF0ZVByb2plY3RzLFxyXG4gICAgY3JlYXRlUHJvamVjdCxcclxuICAgIGFkZFRvZG9Ub1Byb2plY3QsXHJcbiAgICBkZWxldGVUb2RvSXRlbSxcclxuICAgIHNlYXJjaEZvclByb2plY3QsXHJcbiAgICBzZWFyY2hGb3JUb2RvSW5Qcm9qZWN0LFxyXG4gICAgZ2V0TG9jYWxTdG9yYWdlUHJvamVjdHMsXHJcbiAgICBkZWxldGVQcm9qZWN0XHJcbn0iLCJpbXBvcnQge2FkZFRvZG9Ub1Byb2plY3QsIGdldExvY2FsU3RvcmFnZVByb2plY3RzfSBmcm9tICcuL3Byb2plY3RzLmpzJztcclxuXHJcbmxldCB0b2RvTGlzdCA9IFtdO1xyXG5cclxuY2xhc3MgVG9kbyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24gPSBcIlwiLCBkdWVEYXRlID0gXCJObyBEdWUgRGF0ZVwiLCBwcmlvcml0eSA9IDUsIG5vdGVzID0gXCJcIikge1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XHJcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcclxuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XHJcbiAgICAgICAgdGhpcy5ub3RlcyA9IG5vdGVzO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBlZGl0VG9kbyhvYmosIHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIHByb2plY3ROYW1lKSB7XHJcbiAgICBsZXQgdmFsdWUgPSBjaGVja0lmRW1wdHkodGl0bGUsIGR1ZURhdGUsIHByaW9yaXR5KTtcclxuXHJcbiAgICBsZXQgbG9jYWxQcm9qZWN0cyA9IGdldExvY2FsU3RvcmFnZVByb2plY3RzKCk7XHJcblxyXG4gICAgZm9yKGxldCBpID0gMDsgbG9jYWxQcm9qZWN0cy5sZW5ndGggPiBpOyBpKyspIHtcclxuICAgICAgICBpZihsb2NhbFByb2plY3RzW2ldLnRpdGxlID09PSBwcm9qZWN0TmFtZSkge1xyXG4gICAgICAgICAgICBsZXQgb2xkS2V5ID0gbG9jYWxQcm9qZWN0c1tpXVtcInRvZG9MaXN0XCJdW29iai50aXRsZV07XHJcblxyXG4gICAgICAgICAgICBsb2NhbFByb2plY3RzW2ldW1widG9kb0xpc3RcIl1bdGl0bGVdID0gb2xkS2V5O1xyXG5cclxuICAgICAgICAgICAgZGVsZXRlIGxvY2FsUHJvamVjdHNbaV1bXCJ0b2RvTGlzdFwiXVtvYmoudGl0bGVdO1xyXG5cclxuICAgICAgICAgICAgbGV0IHRvZG9JdGVtID0gbG9jYWxQcm9qZWN0c1tpXVtcInRvZG9MaXN0XCJdW3RpdGxlXSA9IG9sZEtleTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKHZhbHVlID09PSBcIm5vIHRpdGxlXCIpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwiVGl0bGUgY2Fubm90IGJlIGVtcHR5IVwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRvZG9JdGVtWyd0aXRsZSddID0gdGl0bGU7XHJcbiAgICAgICAgICAgICAgICB0b2RvSXRlbVsnZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgdG9kb0l0ZW1bJ2R1ZURhdGUnXSA9IGR1ZURhdGU7XHJcbiAgICAgICAgICAgICAgICB0b2RvSXRlbVsncHJpb3JpdHknXSA9IHBhcnNlSW50KHByaW9yaXR5KTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IHZhbHVlLmxlbmd0aCA+PSBpOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZVtpXSA9PT0gXCJObyBEdWUgRGF0ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZG9JdGVtWydkdWVEYXRlJ10gPSBcIk5vIER1ZSBEYXRlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiB2YWx1ZVtpXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2RvSXRlbVsncHJpb3JpdHknXSA9IDU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KGxvY2FsUHJvamVjdHMpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tJZkVtcHR5KHRpdGxlLCBkdWVEYXRlLCBwcmlvcml0eSkge1xyXG4gICAgbGV0IGFycmF5ID0gW107XHJcbiAgICBpZih0aXRsZSA9PT0gJycpIHtcclxuICAgICAgICByZXR1cm4gXCJubyB0aXRsZVwiO1xyXG4gICAgfVxyXG4gICAgaWYoZHVlRGF0ZSA9PT0gJycpIHtcclxuICAgICAgICBhcnJheS5wdXNoKFwiTm8gRHVlIERhdGVcIik7XHJcbiAgICB9XHJcbiAgICBpZihwcmlvcml0eSA9PT0gJycpIHtcclxuICAgICAgICBhcnJheS5wdXNoKDUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhcnJheTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlVG9kbyh0aXRsZSwgcHJvamVjdCkge1xyXG4gICAgY29uc3QgbmV3VG9kbyA9IG5ldyBUb2RvKHRpdGxlKTtcclxuXHJcbiAgICBhZGRUb2RvVG9Qcm9qZWN0KHByb2plY3QsIG5ld1RvZG8pO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgVG9kbyxcclxuICAgIGNyZWF0ZVRvZG8sXHJcbiAgICBlZGl0VG9kb1xyXG59IiwiaW1wb3J0IHsgY3JlYXRlUHJvamVjdCwgZGVsZXRlVG9kb0l0ZW0sIGdldExvY2FsU3RvcmFnZVByb2plY3RzLCBzZWFyY2hGb3JQcm9qZWN0LCBkZWxldGVQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdHNcIjtcclxuaW1wb3J0IENpcmNsZUljb24gZnJvbSBcIi4uL2Rpc3QvaW1hZ2VzL2NpcmNsZS5zdmdcIjtcclxuaW1wb3J0IEVkaXRJY29uIGZyb20gXCIuLi9kaXN0L2ltYWdlcy9wZW5jaWwuc3ZnXCI7XHJcbmltcG9ydCBsaXN0SWNvbiBmcm9tIFwiLi4vZGlzdC9pbWFnZXMvZm9ybWF0LWxpc3QtYnVsbGV0ZWQuc3ZnXCI7XHJcbmltcG9ydCBkZWxldGVJY29uIGZyb20gXCIuLi9kaXN0L2ltYWdlcy9jbG9zZS5zdmdcIlxyXG5pbXBvcnQgeyBjcmVhdGVUb2RvLCBlZGl0VG9kbyB9IGZyb20gXCIuL3RvZG8uanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemF0aW9uKCkge1xyXG4gICAgdGFiKFwiaW5ib3hcIik7XHJcbiAgICBhZGRQcm9qZWN0c1RvTGlzdCgpO1xyXG4gICAgYWRkVGFzaygpO1xyXG4gICAgZXZlbnRMaXN0ZW5lcnMoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdGFiKHByb2plY3QpIHtcclxuICAgIGNvbnN0IHRvZG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tbGlzdFwiKTtcclxuICAgIHRvZG8udGV4dENvbnRlbnQgPSAnJztcclxuXHJcbiAgICBjb25zdCB0b2RvVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xyXG4gICAgdG9kb1RpdGxlLmNsYXNzTmFtZSA9IFwidGFiLXRpdGxlXCI7XHJcblxyXG4gICAgbGV0IHByb2plY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvamVjdHMnKSk7XHJcblxyXG4gICAgZm9yKGxldCBpID0gMDsgcHJvamVjdHMubGVuZ3RoID4gaTsgaSsrKSB7XHJcbiAgICAgICAgaWYocHJvamVjdHNbaV0udGl0bGUgPT09IHByb2plY3QpIHtcclxuICAgICAgICAgICAgdG9kb1RpdGxlLnRleHRDb250ZW50ID0gcHJvamVjdHNbaV0udGl0bGU7XHJcbiAgICAgICAgICAgIHRvZG8uYXBwZW5kKHRvZG9UaXRsZSk7XHJcblxyXG4gICAgICAgICAgICBmb3IoY29uc3QgcHJvcCBpbiBwcm9qZWN0c1tpXS50b2RvTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG9iaiA9IHByb2plY3RzW2ldLnRvZG9MaXN0W3Byb3BdO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBlbGVtZW50ID0gRE9NY3JlYXRlVG9kb0l0ZW0ob2JqLCBwcm9qZWN0KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0b2RvLmFwcGVuZChlbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkUHJvamVjdHNUb0xpc3QoKSB7XHJcbiAgICBsZXQgcHJvamVjdHMgPSBnZXRMb2NhbFN0b3JhZ2VQcm9qZWN0cygpO1xyXG5cclxuICAgIGZvcihsZXQgaSA9IDA7IHByb2plY3RzLmxlbmd0aCA+IGk7IGkrKykge1xyXG4gICAgICAgIGlmKHByb2plY3RzW2ldLnRpdGxlID09PSBcImluYm94XCIgfHwgcHJvamVjdHNbaV0udGl0bGUgPT09IFwidG9kYXlcIiB8fCBwcm9qZWN0c1tpXS50aXRsZSA9PT0gXCJ1cGNvbWluZ1wiKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwid3V0XCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNyZWF0ZVByb2plY3RJdGVtKHByb2plY3RzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVByb2plY3RJdGVtKHByb2plY3RPYmopIHtcclxuICAgIGNvbnN0IG1haW5Qcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LWxpc3RcIik7XHJcbiAgICBjb25zdCBwcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG4gICAgcHJvamVjdENvbnRhaW5lci5jbGFzc05hbWUgPSBcInByb2plY3RcIjtcclxuICAgIHByb2plY3RDb250YWluZXIuZGF0YXNldC5uYW1lID0gcHJvamVjdE9iai50aXRsZTtcclxuXHJcbiAgICBjb25zdCBwcm9qZWN0SWNvbiA9IG5ldyBJbWFnZSgpO1xyXG4gICAgcHJvamVjdEljb24uc3JjID0gbGlzdEljb247XHJcblxyXG4gICAgY29uc3QgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICBwcm9qZWN0VGl0bGUudGV4dENvbnRlbnQgPSBwcm9qZWN0T2JqLnRpdGxlO1xyXG5cclxuICAgIGNvbnN0IHByb2plY3REZWxldGUgPSBuZXcgSW1hZ2UoKTtcclxuICAgIHByb2plY3REZWxldGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgcHJvamVjdERlbGV0ZS5zcmMgPSBkZWxldGVJY29uO1xyXG5cclxuICAgIHByb2plY3RUaXRsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgICAgYWN0aXZlQ2xhc3MocHJvamVjdENvbnRhaW5lcik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGFiKHByb2plY3RPYmoudGl0bGUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcHJvamVjdENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIGUgPT4ge1xyXG4gICAgICAgIHByb2plY3REZWxldGUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIH0pO1xyXG5cclxuICAgIHByb2plY3RDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIGUgPT4ge1xyXG4gICAgICAgIHByb2plY3REZWxldGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcHJvamVjdERlbGV0ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgICAgcHJvamVjdENvbnRhaW5lci5yZW1vdmUoKTtcclxuICAgICAgICBkZWxldGVQcm9qZWN0KHByb2plY3RPYmoudGl0bGUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBpbmRleCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW5hbWU9XCJpbmJveFwiXScpO1xyXG4gICAgICAgIHRhYihcImluYm94XCIpO1xyXG4gICAgICAgIGFjdGl2ZUNsYXNzKGluZGV4KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHByb2plY3RDb250YWluZXIuYXBwZW5kKHByb2plY3RJY29uLCBwcm9qZWN0VGl0bGUsIHByb2plY3REZWxldGUpO1xyXG4gICAgbWFpblByb2plY3RDb250YWluZXIuYXBwZW5kKHByb2plY3RDb250YWluZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhY3RpdmVDbGFzcyhlbGVtZW50KSB7XHJcbiAgICBsZXQgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhclwiKS5jaGlsZHJlbjtcclxuXHJcbiAgICBmb3IobGV0IGkgPSAwOyBsaXN0Lmxlbmd0aCA+IGk7IGkrKykge1xyXG4gICAgICAgIGlmKGxpc3RbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwibWFpbi1saXN0XCIpIHx8IGxpc3RbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwicHJvamVjdC1saXN0XCIpKSB7XHJcbiAgICAgICAgICAgIGxldCBsaUFycmF5ID0gbGlzdFtpXS5jaGlsZHJlblswXS5jaGlsZHJlbjtcclxuXHJcbiAgICAgICAgICAgIGZvcihsZXQgaiA9IDA7IGxpQXJyYXkubGVuZ3RoID4gajsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZihsaUFycmF5W2pdLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpQXJyYXlbal0uY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gRE9NY3JlYXRlVG9kb0l0ZW0ob2JqLCBwcm9qZWN0KSB7XHJcbiAgICBjb25zdCB0b2RvSXRlbUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICB0b2RvSXRlbUNvbnRhaW5lci5jbGFzc05hbWUgPSBcInRvZG8taXRlbS1jb250YWluZXJcIjtcclxuICAgIHRvZG9JdGVtQ29udGFpbmVyLmRhdGFzZXQubmFtZSA9IG9iai50aXRsZTtcclxuXHJcbiAgICBjb25zdCB0b2RvSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICB0b2RvSXRlbS5jbGFzc05hbWUgPSBcInRvZG8taXRlbVwiO1xyXG5cclxuICAgIGNvbnN0IGNpcmNsZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgY2lyY2xlLnNyYyA9IENpcmNsZUljb247XHJcbiAgICBjaXJjbGUuY2xhc3NOYW1lID0gXCJ0b2RvLWl0ZW0tY2hlY2ttYXJrXCI7XHJcblxyXG4gICAgY29uc3QgdG9kb1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICB0b2RvVGl0bGUuY2xhc3NOYW1lID0gXCJ0b2RvLWl0ZW0tdGl0bGVcIjtcclxuICAgIHRvZG9UaXRsZS50ZXh0Q29udGVudCA9IG9iai50aXRsZTtcclxuXHJcbiAgICBjb25zdCB0b2RvRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gICAgdG9kb0RhdGUudGV4dENvbnRlbnQgPSBvYmouZHVlRGF0ZTtcclxuXHJcbiAgICBjb25zdCB0b2RvRWRpdCA9IG5ldyBJbWFnZSgpO1xyXG4gICAgdG9kb0VkaXQuY2xhc3NOYW1lID0gXCJ0b2RvLWl0ZW0tZWRpdFwiO1xyXG4gICAgdG9kb0VkaXQuc3JjID0gRWRpdEljb247XHJcblxyXG4gICAgY2lyY2xlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcclxuICAgICAgICB0b2RvSXRlbS5yZW1vdmUoKTtcclxuICAgICAgICBkZWxldGVUb2RvSXRlbShvYmosIHByb2plY3QpO1xyXG4gICAgfSlcclxuXHJcbiAgICB0b2RvSXRlbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIGUgPT4ge1xyXG4gICAgICAgIHRvZG9FZGl0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdG9kb0l0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIGUgPT4ge1xyXG4gICAgICAgIHRvZG9FZGl0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0b2RvVGl0bGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xyXG4gICAgICAgIERPTWVkaXRUb2RvSXRlbShvYmosIHRvZG9JdGVtQ29udGFpbmVyLCB0b2RvSXRlbSwgdG9kb0VkaXQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdG9kb0VkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xyXG4gICAgICAgIERPTWVkaXRUb2RvSXRlbShvYmosIHRvZG9JdGVtQ29udGFpbmVyLCB0b2RvSXRlbSwgdG9kb0VkaXQpO1xyXG4gICAgfSlcclxuXHJcbiAgICB0b2RvSXRlbS5hcHBlbmQoY2lyY2xlLCB0b2RvVGl0bGUsIHRvZG9EYXRlLCB0b2RvRWRpdCk7XHJcbiAgICB0b2RvSXRlbUNvbnRhaW5lci5hcHBlbmQodG9kb0l0ZW0pO1xyXG5cclxuICAgIHJldHVybiB0b2RvSXRlbUNvbnRhaW5lcjtcclxufVxyXG5cclxuZnVuY3Rpb24gRE9NZWRpdFRvZG9JdGVtKG9iaiwgY29udGFpbmVyLCB0b2RvSXRlbUNvbnRhaW5lciwgdG9kb0VkaXQpIHtcclxuICAgIGlmKGNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmUtdG9kby1pdGVtXCIpID09PSB0cnVlKSB7XHJcbiAgICAgICAgbGV0IGVkaXRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXQtY29udGFpbmVyXCIpO1xyXG4gICAgICAgIGVkaXRDb250YWluZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmUtdG9kby1pdGVtXCIpO1xyXG4gICAgICAgIHRvZG9JdGVtQ29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoXCJlZGl0LWNvbnRhaW5lci1hY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRvZG9JdGVtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJlZGl0LWNvbnRhaW5lci1hY3RpdmVcIik7XHJcbiAgICAgICAgdG9kb0VkaXQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuXHJcbiAgICAgICAgbGV0IHByb2plY3ROYW1lID0gZ2V0UHJvamVjdE5hbWUoKTtcclxuICAgICAgICBsZXQgcHJvamVjdCA9IHNlYXJjaEZvclByb2plY3QocHJvamVjdE5hbWUpO1xyXG4gICAgXHJcbiAgICAgICAgbGV0IGVkaXRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGVkaXRDb250YWluZXIuY2xhc3NOYW1lID0gXCJlZGl0LWNvbnRhaW5lclwiO1xyXG5cclxuICAgICAgICBsZXQgZWRpdFRpdGxlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICAgICAgZWRpdFRpdGxlTGFiZWwuY2xhc3NOYW1lID0gXCJlZGl0LXRpdGxlLWxhYmVsXCI7XHJcbiAgICAgICAgZWRpdFRpdGxlTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwiZWRpdC10aXRsZVwiKTtcclxuICAgICAgICBlZGl0VGl0bGVMYWJlbC50ZXh0Q29udGVudCA9IFwiVGl0bGU6XCJcclxuXHJcbiAgICAgICAgbGV0IGVkaXRUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgICAgICBlZGl0VGl0bGUuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJlZGl0LXRpdGxlXCIpO1xyXG4gICAgICAgIGVkaXRUaXRsZS52YWx1ZSA9IG9iai50aXRsZTtcclxuXHJcbiAgICAgICAgbGV0IGVkaXREYXRlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICAgICAgZWRpdERhdGVMYWJlbC50ZXh0Q29udGVudCA9IFwiRHVlIERhdGU6XCJcclxuICAgICAgICBlZGl0RGF0ZUxhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBcImVkaXQtZGF0ZVwiKTtcclxuXHJcbiAgICAgICAgbGV0IGVkaXREYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICAgIGVkaXREYXRlLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZWRpdC1kYXRlXCIpO1xyXG4gICAgICAgIGVkaXREYXRlLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJkYXRlXCIpO1xyXG5cclxuICAgICAgICBsZXQgZWRpdFByaW9yaXR5TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICAgICAgZWRpdFByaW9yaXR5TGFiZWwuY2xhc3NOYW1lID0gXCJlZGl0LXByaW9yaXR5LWxhYmVsXCI7XHJcbiAgICAgICAgZWRpdFByaW9yaXR5TGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwiZWRpdC1wcmlvcml0eVwiKTtcclxuICAgICAgICBlZGl0UHJpb3JpdHlMYWJlbC50ZXh0Q29udGVudCA9IFwiUHJpb3JpdHk6XCI7XHJcblxyXG4gICAgICAgIGxldCBlZGl0UHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgICAgZWRpdFByaW9yaXR5LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZWRpdC1wcmlvcml0eVwiKVxyXG4gICAgICAgIGVkaXRQcmlvcml0eS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwibnVtYmVyXCIpO1xyXG4gICAgICAgIGVkaXRQcmlvcml0eS5zZXRBdHRyaWJ1dGUoXCJtYXhcIiwgNSk7XHJcbiAgICAgICAgZWRpdFByaW9yaXR5LnNldEF0dHJpYnV0ZShcIm1pblwiLCAxKTtcclxuICAgICAgICBlZGl0UHJpb3JpdHkudmFsdWUgPSBvYmoucHJpb3JpdHk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGVkaXREZXNjcmlwdGlvbkxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgICAgIGVkaXREZXNjcmlwdGlvbkxhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBcImVkaXQtZGVzY3JpcHRpb25cIik7XHJcbiAgICAgICAgZWRpdERlc2NyaXB0aW9uTGFiZWwudGV4dENvbnRlbnQgPSBcIkRlc2NyaXB0aW9uOlwiO1xyXG5cclxuICAgICAgICBsZXQgZWRpdERlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xyXG4gICAgICAgIGVkaXREZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImVkaXQtZGVzY3JpcHRpb25cIik7XHJcbiAgICAgICAgZWRpdERlc2NyaXB0aW9uLnZhbHVlID0gb2JqLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgIGVkaXREZXNjcmlwdGlvbi5wbGFjZWhvbGRlciA9IFwiYWJjZCB5b3VyIGRlc2NyaXB0aW9uIGNvbWVzIGhlcmUgSSB0aGlua1wiO1xyXG5cclxuICAgICAgICBsZXQgc2F2ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICAgICAgc2F2ZUJ1dHRvbi5jbGFzc05hbWUgPSBcImVkaXQtc2F2ZVwiO1xyXG4gICAgICAgIHNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcclxuXHJcbiAgICAgICAgc2F2ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwcm9qZWN0TmFtZSA9IGdldFByb2plY3ROYW1lKCk7XHJcbiAgICAgICAgICAgIGVkaXRUb2RvKG9iaiwgZWRpdFRpdGxlLnZhbHVlLCBlZGl0RGVzY3JpcHRpb24udmFsdWUsIGVkaXREYXRlLnZhbHVlLCBlZGl0UHJpb3JpdHkudmFsdWUsIHByb2plY3ROYW1lKTtcclxuICAgICAgICAgICAgdGFiKHByb2plY3ROYW1lKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdENvbnRhaW5lci5hcHBlbmQoZWRpdFRpdGxlTGFiZWwsIGVkaXRUaXRsZSwgZWRpdFByaW9yaXR5TGFiZWwsIGVkaXRQcmlvcml0eSwgZWRpdERlc2NyaXB0aW9uTGFiZWwsIGVkaXREZXNjcmlwdGlvbiwgZWRpdERhdGVMYWJlbCwgZWRpdERhdGUsIHNhdmVCdXR0b24pO1xyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQoZWRpdENvbnRhaW5lcik7XHJcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtdG9kby1pdGVtXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRvZG9MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvLWxpc3RcIik7XHJcbiAgICBsZXQgdG9kb0xpc3RDaGlsZHJlbiA9IHRvZG9MaXN0LmNoaWxkcmVuO1xyXG5cclxuICAgIGZvcihsZXQgaSA9IDA7IHRvZG9MaXN0Q2hpbGRyZW4ubGVuZ3RoID4gaTsgaSsrKSB7XHJcbiAgICAgICAgaWYodG9kb0xpc3RDaGlsZHJlbltpXS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmUtdG9kby1pdGVtXCIpKSB7XHJcbiAgICAgICAgICAgIGlmKHRvZG9MaXN0Q2hpbGRyZW5baV0uZGF0YXNldC5uYW1lID09PSBvYmoudGl0bGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSkVTVCBUSEUgTEVTVCBZT1UgTUVTVCBGVUNLIFRIRSBSRVNUXCIpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGRyZW4gPSB0b2RvTGlzdENoaWxkcmVuW2ldLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBqID0gMDsgY2hpbGRyZW4ubGVuZ3RoID4gajsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2hpbGRyZW5bal0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiZWRpdC1jb250YWluZXJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5bal0ucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZG9MaXN0Q2hpbGRyZW5baV0uY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZS10b2RvLWl0ZW1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZG9MaXN0Q2hpbGRyZW5baV0uY2hpbGRyZW5bMF0uY2xhc3NMaXN0LnRvZ2dsZShcImVkaXQtY29udGFpbmVyLWFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgYWRkUHJvamVjdEV2ZW50KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFByb2plY3RFdmVudCgpIHtcclxuICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1wcm9qZWN0XCIpO1xyXG5cclxuICAgIGFkZFByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xyXG4gICAgICAgIGNyZWF0ZVByb2plY3RJbnB1dChhZGRQcm9qZWN0QnRuKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVQcm9qZWN0SW5wdXQoYWRkQnRuKSB7XHJcbiAgICBjb25zdCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1saXN0XCIpO1xyXG4gICAgXHJcbiAgICBjb25zdCBuZXdQcm9qZWN0RGl2ICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBuZXdQcm9qZWN0RGl2LmNsYXNzTmFtZSA9IFwicHJvamVjdC1hZGQtZGl2XCI7XHJcblxyXG4gICAgY29uc3QgbmV3UHJvamVjdFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgbmV3UHJvamVjdFRpdGxlLmNsYXNzTmFtZSA9IFwicHJvamVjdC1hZGQtdGl0bGVcIjtcclxuXHJcbiAgICBjb25zdCBjYW5jZWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgY2FuY2VsQnRuLmNsYXNzTmFtZSA9ICdwcm9qZWN0LWFkZC1jYW5jZWwnO1xyXG4gICAgY2FuY2VsQnRuLnRleHRDb250ZW50ID0gXCJDYW5jZWxcIjtcclxuXHJcbiAgICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgc3VibWl0QnRuLmNsYXNzTmFtZSA9ICdwcm9qZWN0LWFkZC1zdWJtaXQnO1xyXG4gICAgc3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJTdWJtaXRcIjtcclxuXHJcbiAgICBhZGRCdG4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuICAgIHByb2plY3RFdmVudHMobmV3UHJvamVjdFRpdGxlLCBuZXdQcm9qZWN0RGl2LCBzdWJtaXRCdG4sIGNhbmNlbEJ0biwgYWRkQnRuKTtcclxuXHJcbiAgICBuZXdQcm9qZWN0RGl2LmFwcGVuZChuZXdQcm9qZWN0VGl0bGUsIHN1Ym1pdEJ0biwgY2FuY2VsQnRuKTtcclxuICAgIHByb2plY3RMaXN0LmFwcGVuZChuZXdQcm9qZWN0RGl2KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcHJvamVjdEV2ZW50cyh0aXRsZSwgZGl2LCBzdWJtaXQsIGNhbmNlbCwgYnV0dG9uKSB7XHJcbiAgICBzdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xyXG4gICAgICAgIGNyZWF0ZVByb2plY3QodGl0bGUudmFsdWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcclxuICAgICAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9IFwiZ3JpZFwiO1xyXG4gICAgICAgIGRpdi5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRUYXNrKCkge1xyXG4gICAgY29uc3QgYWRkVGFza0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1hZGRcIik7XHJcblxyXG4gICAgYWRkVGFza0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgICAgbGV0IHByb2plY3ROYW1lID0gZ2V0UHJvamVjdE5hbWUoKTtcclxuXHJcbiAgICAgICAgY3JlYXRlVGFza0lucHV0KGFkZFRhc2tCdG4sIHByb2plY3ROYW1lKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVUYXNrSW5wdXQoYnRuLCBwcm9qZWN0KSB7XHJcbiAgICBjb25zdCBtYWluQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kb1wiKTtcclxuXHJcbiAgICBjb25zdCBuZXdUb2RvSXRlbURpdiAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgbmV3VG9kb0l0ZW1EaXYuY2xhc3NOYW1lID0gXCJ0YXNrLWFkZC1pbnB1dFwiO1xyXG5cclxuICAgIGNvbnN0IG5ld1RvZG9JdGVtTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgIG5ld1RvZG9JdGVtTmFtZS5jbGFzc05hbWUgPSBcInRhc2stYWRkLXRpdGxlXCI7XHJcblxyXG4gICAgY29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgIGNhbmNlbEJ0bi5jbGFzc05hbWUgPSAndGFzay1hZGQtY2FuY2VsJztcclxuICAgIGNhbmNlbEJ0bi50ZXh0Q29udGVudCA9IFwiQ2FuY2VsXCI7XHJcblxyXG4gICAgY29uc3Qgc3VibWl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgIHN1Ym1pdEJ0bi5jbGFzc05hbWUgPSAndGFzay1hZGQtc3VibWl0JztcclxuICAgIHN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiU3VibWl0XCI7XHJcblxyXG4gICAgYnRuLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICBuZXdUb2RvSXRlbURpdi5hcHBlbmQobmV3VG9kb0l0ZW1OYW1lLCBzdWJtaXRCdG4sIGNhbmNlbEJ0bik7XHJcbiAgICBtYWluQ29udGVudC5hcHBlbmQobmV3VG9kb0l0ZW1EaXYpO1xyXG5cclxuICAgIGFkZEV2ZW50c1RvVGFza0lucHV0KHN1Ym1pdEJ0biwgY2FuY2VsQnRuLCBuZXdUb2RvSXRlbU5hbWUsIG5ld1RvZG9JdGVtRGl2LCBwcm9qZWN0KVxyXG5cclxuICAgIHJldHVybiBuZXdUb2RvSXRlbU5hbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEV2ZW50c1RvVGFza0lucHV0KHN1Ym1pdCwgY2FuY2VsLCB0aXRsZSwgZGl2LCBwcm9qZWN0KSB7XHJcbiAgICBjb25zdCBhZGRUYXNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWFkZFwiKTtcclxuXHJcbiAgICBzdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4geyAgICAgICAgXHJcbiAgICAgICAgY3JlYXRlVG9kbyh0aXRsZS52YWx1ZSwgcHJvamVjdCk7XHJcbiAgICAgICAgdGFiKHByb2plY3QpO1xyXG4gICAgICAgIGFkZFRhc2tCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwiZ3JpZFwiO1xyXG4gICAgICAgIGRpdi5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNhbmNlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgICAgYWRkVGFza0J1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJncmlkXCI7XHJcbiAgICAgICAgZGl2LnJlbW92ZSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFByb2plY3ROYW1lKCkge1xyXG4gICAgY29uc3QgYWN0aXZlQ2xhc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFjdGl2ZVwiKTtcclxuICAgIGxldCBwcm9qZWN0TmFtZSA9IGFjdGl2ZUNsYXNzLmRhdGFzZXQubmFtZTtcclxuXHJcbiAgICByZXR1cm4gcHJvamVjdE5hbWU7XHJcbn0iLCJpbXBvcnQge1Byb2plY3QsIGNyZWF0ZVByb2plY3RzLCBhZGRUb2RvVG9Qcm9qZWN0fSBmcm9tICcuL3Byb2plY3RzLmpzJ1xyXG5pbXBvcnQge1RvZG99IGZyb20gJy4vdG9kby5qcydcclxuaW1wb3J0IGluaXRpYWxpemF0aW9uIGZyb20gJy4vZG9tLmpzJzsgXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xyXG4gICAgY2hlY2tJZkZpcnN0VGltZSgpO1xyXG4gICAgcGFnZUxvYWQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFnZUxvYWQoKSB7XHJcbiAgICBpbml0aWFsaXphdGlvbigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja0lmRmlyc3RUaW1lKCkge1xyXG4gICAgbGV0IHZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZpcnN0VGltZScpO1xyXG5cclxuICAgIGlmKHZhbHVlID09PSBudWxsKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZpcnN0VGltZScsICdmYWxzZScpO1xyXG5cclxuICAgICAgICBmaXJzdFRpbWVJbml0aWFsaXphdGlvbigpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBmaXJzdFRpbWVJbml0aWFsaXphdGlvbigpIHtcclxuICAgIGNvbnN0IGluYm94ID0gbmV3IFByb2plY3QoJ2luYm94Jyk7XHJcbiAgICBjb25zdCB0b2RheSA9IG5ldyBQcm9qZWN0KCd0b2RheScpO1xyXG4gICAgY29uc3QgdXBjb21pbmcgPSBuZXcgUHJvamVjdCgndXBjb21pbmcnKTtcclxuXHJcbiAgICBjb25zdCBmaXJzdFByb2plY3QgPSBuZXcgVG9kbygnQ29tcGxldGUgdGhlIFRvZG8gTGlzdCBQcm9qZWN0JywgJ1RoZSBPZGluIFByb2plY3QgVG9kbyBQcm9qZWN0IScsICcwNy0yNS0yMDIyJywgNSwgJycpO1xyXG5cclxuICAgIGNyZWF0ZVByb2plY3RzKGluYm94LCB0b2RheSwgdXBjb21pbmcpO1xyXG5cclxuICAgIGFkZFRvZG9Ub1Byb2plY3QoaW5ib3gsIGZpcnN0UHJvamVjdCk7XHJcbn0iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJwcm9qZWN0cyIsIlByb2plY3QiLCJjb25zdHJ1Y3RvciIsInRpdGxlIiwic2VhcmNoRm9yUHJvamVjdCIsInByb2plY3QiLCJsb2NhbFByb2plY3RzIiwiZ2V0TG9jYWxTdG9yYWdlUHJvamVjdHMiLCJpIiwiYWRkVG9kb1RvUHJvamVjdCIsInByb2plY3ROYW1lIiwidG9kb0l0ZW0iLCJ0b2RvTGlzdCIsInVuZGVmaW5lZCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwicGFyc2UiLCJnZXRJdGVtIiwicHJvdG90eXBlIiwiY2hhbmdlVGl0bGUiLCJuZXdUaXRsZSIsIlRvZG8iLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsIm5vdGVzIiwidGFiIiwidG9kbyIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsInRvZG9UaXRsZSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJhcHBlbmQiLCJwcm9wIiwiZWxlbWVudCIsIkRPTWNyZWF0ZVRvZG9JdGVtIiwiY3JlYXRlUHJvamVjdEl0ZW0iLCJwcm9qZWN0T2JqIiwibWFpblByb2plY3RDb250YWluZXIiLCJwcm9qZWN0Q29udGFpbmVyIiwiZGF0YXNldCIsIm5hbWUiLCJwcm9qZWN0SWNvbiIsIkltYWdlIiwicHJvamVjdFRpdGxlIiwicHJvamVjdERlbGV0ZSIsInN0eWxlIiwiZGlzcGxheSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhY3RpdmVDbGFzcyIsInJlbW92ZSIsImZpbHRlcmVkUHJvamVjdHMiLCJmaWx0ZXIiLCJpdGVtIiwiZGVsZXRlUHJvamVjdCIsImluZGV4IiwibGlzdCIsImNoaWxkcmVuIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJsaUFycmF5IiwiaiIsInRvZ2dsZSIsIm9iaiIsInRvZG9JdGVtQ29udGFpbmVyIiwiY2lyY2xlIiwidG9kb0RhdGUiLCJ0b2RvRWRpdCIsImRlbGV0ZVRvZG9JdGVtIiwiRE9NZWRpdFRvZG9JdGVtIiwiY29udGFpbmVyIiwiYWRkIiwiZ2V0UHJvamVjdE5hbWUiLCJlZGl0Q29udGFpbmVyIiwiZWRpdFRpdGxlTGFiZWwiLCJzZXRBdHRyaWJ1dGUiLCJlZGl0VGl0bGUiLCJ2YWx1ZSIsImVkaXREYXRlTGFiZWwiLCJlZGl0RGF0ZSIsImVkaXRQcmlvcml0eUxhYmVsIiwiZWRpdFByaW9yaXR5IiwiZWRpdERlc2NyaXB0aW9uTGFiZWwiLCJlZGl0RGVzY3JpcHRpb24iLCJwbGFjZWhvbGRlciIsInNhdmVCdXR0b24iLCJhcnJheSIsInB1c2giLCJjaGVja0lmRW1wdHkiLCJvbGRLZXkiLCJhbGVydCIsInBhcnNlSW50IiwiZWRpdFRvZG8iLCJ0b2RvTGlzdENoaWxkcmVuIiwiY29uc29sZSIsImxvZyIsImluYm94IiwidG9kYXkiLCJ1cGNvbWluZyIsImZpcnN0UHJvamVjdCIsImFyZ3MiLCJjcmVhdGVQcm9qZWN0cyIsImZpcnN0VGltZUluaXRpYWxpemF0aW9uIiwiYWRkUHJvamVjdHNUb0xpc3QiLCJhZGRUYXNrQnRuIiwiYnRuIiwibWFpbkNvbnRlbnQiLCJuZXdUb2RvSXRlbURpdiIsIm5ld1RvZG9JdGVtTmFtZSIsImNhbmNlbEJ0biIsInN1Ym1pdEJ0biIsInN1Ym1pdCIsImNhbmNlbCIsImRpdiIsImFkZFRhc2tCdXR0b24iLCJjcmVhdGVUb2RvIiwiYWRkRXZlbnRzVG9UYXNrSW5wdXQiLCJjcmVhdGVUYXNrSW5wdXQiLCJhZGRUYXNrIiwiYWRkUHJvamVjdEJ0biIsImFkZEJ0biIsInByb2plY3RMaXN0IiwibmV3UHJvamVjdERpdiIsIm5ld1Byb2plY3RUaXRsZSIsImJ1dHRvbiIsImNoZWNrSWZBdmFpbGFibGUiLCJjcmVhdGVQcm9qZWN0IiwiY3JlYXRlUHJvamVjdElucHV0IiwiYWRkUHJvamVjdEV2ZW50Il0sInNvdXJjZVJvb3QiOiIifQ==